# –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞—Ö–æ–≤—ã–º–∏ –∑–∞—è–≤–∫–∞–º–∏

–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–∏—Å –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç—Ä–∞—Ö–æ–≤—ã–º–∏ –∑–∞—è–≤–∫–∞–º–∏ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏.

## –û–ø–∏—Å–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç—Ä–∞—Ö–æ–≤—ã—Ö –∑–∞—è–≤–æ–∫:
- üìÅ –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ Excel-–∑–∞—è–≤–æ–∫ –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤
- üìù –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Excel (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ .xls, .xlsx –∏ .xltx)
- üìß –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –ø–∏—Å–µ–º –ø–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º —à–∞–±–ª–æ–Ω–∞–º (–±–µ–∑ –æ—Ç–ø—Ä–∞–≤–∫–∏)
- üîê –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üñ•Ô∏è –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞—è–≤–∫–∞–º–∏
- üìä –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫
- üìà –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–≤–æ–¥–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- üìÅ –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ Excel —Ñ–∞–π–ª–æ–≤ —Å –∑–∞—è–≤–∫–∞–º–∏
- üìù –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Excel (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ .xls, .xlsx –∏ .xltx)
- üìß –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –ø–∏—Å–µ–º –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º —à–∞–±–ª–æ–Ω–∞–º (—Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- üîê –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –≥—Ä—É–ø–ø–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üñ•Ô∏è –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞—è–≤–∫–∞–º–∏
- üìä –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫
- üé® –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ Bootstrap 5
- üì± –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è
- üè¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–ª–∏–∞–ª–æ–≤ —Å –≤—ã–ø–∞–¥–∞—é—â–∏–º —Å–ø–∏—Å–∫–æ–º
- üìÖ –û—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –¥–∞—Ç –Ω–∞—á–∞–ª–∞ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è
- üöó –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ö–ê–°–ö–û –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ C/E
- üè† –ù–æ–≤—ã–π —Ç–∏–ø —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è "–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –∏–º—É—â–µ—Å—Ç–≤–∞"
- üìß –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã –ø–∏—Å–µ–º —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –æ–ø–∏—Å–∞–Ω–∏—è–º–∏
- üê≥ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è Docker

### üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- üìà –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Excel –æ—Ç—á–µ—Ç–æ–≤

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend**: Django 4.2, Python 3.9+
- **Frontend**: Bootstrap 5, HTML5, CSS3, JavaScript
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQLite (–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ PostgreSQL)
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ Excel**: pandas, openpyxl
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: Django Auth —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –≥—Ä—É–ø–ø–∞–º–∏

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 3.9+)
- pip (–º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ Python)
- Git
- –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (venv)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
```bash
git clone https://github.com/grigra27/flow_insur_requests.git
cd flow_insur_requests
```

2. **–°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
python3 -m venv venv
source venv/bin/activate  # Linux/macOS
# –∏–ª–∏
venv\Scripts\activate  # Windows
```

3. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
```bash
pip install --upgrade pip
pip install -r requirements.txt
```

4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª —Å–æ–≥–ª–∞—Å–Ω–æ –≤–∞—à–∏–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º
```

5. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
```bash
python manage.py migrate
python manage.py setup_user_groups  # –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
python manage.py createsuperuser    # –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
```

6. **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**
```bash
python manage.py loaddata insurance_requests/fixtures/sample_data.json
```

7. **–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**
```bash
python manage.py runserver
```

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://127.0.0.1:8000/

### –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–º–∏

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
git clone https://github.com/grigra27/flow_insur_requests.git
cd flow_insur_requests
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–º–∏
cp .env.example .env
python manage.py migrate
python manage.py setup_user_groups
python manage.py loaddata insurance_requests/fixtures/sample_data.json
python manage.py runserver
```

**–î–µ–º–æ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:**
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä: `admin` / `admin123`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `user` / `user123`

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
onlineservice/
‚îú‚îÄ‚îÄ core/                    # –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ excel_utils.py      # –†–∞–±–æ—Ç–∞ —Å Excel —Ñ–∞–π–ª–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ templates.py        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –ø–∏—Å–µ–º
‚îú‚îÄ‚îÄ insurance_requests/      # Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "–ó–∞—è–≤–∫–∏"
‚îÇ   ‚îú‚îÄ‚îÄ models.py           # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ views.py            # –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ forms.py            # –§–æ—Ä–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ templates/          # HTML —à–∞–±–ª–æ–Ω—ã
‚îú‚îÄ‚îÄ summaries/              # Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "–°–≤–æ–¥–∫–∏"
‚îú‚îÄ‚îÄ templates/              # –û–±—â–∏–µ —à–∞–±–ª–æ–Ω—ã
‚îú‚îÄ‚îÄ static/                 # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îî‚îÄ‚îÄ media/                  # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞—è–≤–∫–∏
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. –ù–∞–∂–º–∏—Ç–µ "–ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤—É—é –∑–∞—è–≤–∫—É"
3. –í—ã–±–µ—Ä–∏—Ç–µ Excel —Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ –∑–∞—è–≤–∫–∏
4. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ—á–µ—Ç –¥–∞–Ω–Ω—ã–µ

### 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –ø–∏—Å—å–º–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ –¥–µ—Ç–∞–ª–∏ –∑–∞—è–≤–∫–∏
2. –ù–∞–∂–º–∏—Ç–µ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∏—Å—å–º–æ"
3. –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞—Å—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∏—Å—å–º–∞ –ø–æ —à–∞–±–ª–æ–Ω—É
4. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ç–µ–∫—Å—Ç –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ

### 3. –§–æ—Ä–º–∞—Ç Excel —Ñ–∞–π–ª–∞
–°–∏—Å—Ç–µ–º–∞ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —è—á–µ–µ–∫:
- **HIJ2**: –ù–æ–º–µ—Ä –î–§–ê (–¥–æ–≥–æ–≤–æ—Ä —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –∞—Ä–µ–Ω–¥—ã)
- **CDEF4**: –§–∏–ª–∏–∞–ª
- **D7**: –ù–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ (–æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–∞—è —è—á–µ–π–∫–∞ D-F)
- **D9**: –ò–ù–ù –∫–ª–∏–µ–Ω—Ç–∞ (–æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–∞—è —è—á–µ–π–∫–∞ D-F)
- **D21**: –ï—Å–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ ‚Üí —Ç–∏–ø —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è "–ö–ê–°–ö–û"
- **D22**: –ï—Å–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ ‚Üí —Ç–∏–ø —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è "—Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü—Ç–µ—Ö–Ω–∏–∫–∏"
- **N17**: –ï—Å–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ ‚Üí –ø–µ—Ä–∏–æ–¥ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è "1 –≥–æ–¥"
- **N18**: –ï—Å–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ ‚Üí –ø–µ—Ä–∏–æ–¥ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è "–Ω–∞ –≤–µ—Å—å —Å—Ä–æ–∫ –ª–∏–∑–∏–Ω–≥–∞"
- **CDEFGHI43-49**: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–µ–¥–º–µ—Ç–µ –ª–∏–∑–∏–Ω–≥–∞ (–ø–æ–∏—Å–∫ –≤ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫–∞—Ö)
- **D29**: –ï—Å–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ ‚Üí —Ñ—Ä–∞–Ω—à–∏–∑—ã –ù–ï–¢
- **F34**: –ï—Å–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ ‚Üí —Ä–∞—Å—Å—Ä–æ—á–∫–∏ –Ω–µ—Ç
- **M24**: –ï—Å–ª–∏ "–Ω–µ—Ç" ‚Üí –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –Ω–µ—Ç, –∏–Ω–∞—á–µ –µ—Å—Ç—å

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —Ñ–∞–π–ª–æ–≤**: .xls, .xlsx, .xltx

**–ü—Ä–∏–º–µ—Ä –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:**
- –î–§–ê: `–¢–°-20212-–ì–ê-–ö–ó`
- –§–∏–ª–∏–∞–ª: `–ö–∞–∑–∞–Ω—Å–∫–∏–π —Ñ–∏–ª–∏–∞–ª`
- –ö–ª–∏–µ–Ω—Ç: `–û–û–û "–ê–õ–¢–´–ù –Ø–†"`
- –ü—Ä–µ–¥–º–µ—Ç –ª–∏–∑–∏–Ω–≥–∞: `—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π, –≥—Ä—É–∑–æ–≤–æ–π –±–æ—Ä—Ç–æ–≤–æ–π –æ—Å–Ω–∞—â–µ–Ω–Ω—ã–π –∫—Ä–∞–Ω–æ–º-–º–∞–Ω–∏–ø—É–ª—è—Ç–æ—Ä–æ–º –°–ü–ú –ê–≤—Ç–æ 732457`

**–¢–µ–º–∞ –ø–∏—Å—å–º–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –ø–æ —à–∞–±–ª–æ–Ω—É:**
`–î–§–ê - –§–∏–ª–∏–∞–ª - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–µ–¥–º–µ—Ç–µ –ª–∏–∑–∏–Ω–≥–∞ - –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä –ø–∏—Å—å–º–∞`

–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–º. –≤ [EXCEL_PROCESSING.md](EXCEL_PROCESSING.md)

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:
```bash
cp .env.example .env
```

#### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```env
# Django –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
SECRET_KEY=your-secret-key-here-change-this-in-production
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (SQLite –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
DB_ENGINE=django.db.backends.sqlite3
DB_NAME=db.sqlite3

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
# DB_ENGINE=django.db.backends.postgresql
# DB_NAME=insurance_db
# DB_USER=insurance_user
# DB_PASSWORD=secure_password
# DB_HOST=localhost
# DB_PORT=5432
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
```env
# Security –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True
```



### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ä–µ–¥

#### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SQLite –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- DEBUG=True
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

#### Staging
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- DEBUG=False
- –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

#### –ü—Ä–æ–¥–∞–∫—à–µ–Ω
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ PostgreSQL
- DEBUG=False
- –ü–æ–ª–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- HTTPS –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **–ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
source venv/bin/activate  # Linux/macOS
# –∏–ª–∏
venv\Scripts\activate  # Windows
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**
```bash
pip install -r requirements.txt
```

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ Django
python manage.py check

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –¥–µ–ø–ª–æ—é
python manage.py check --deploy
```

4. **–°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π**
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
python manage.py makemigrations

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
python manage.py migrate

# –ü—Ä–æ—Å–º–æ—Ç—Ä SQL –º–∏–≥—Ä–∞—Ü–∏–π
python manage.py sqlmigrate insurance_requests 0001
```

5. **–†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏**
```bash
# Django shell
python manage.py shell

# –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
python manage.py createsuperuser

# –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∏–∫—Å—Ç—É—Ä
python manage.py loaddata insurance_requests/fixtures/sample_data.json

# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞–º–ø–∞ –¥–∞–Ω–Ω—ã—Ö
python manage.py dumpdata insurance_requests > backup.json
```



### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

#### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏
- `InsuranceRequest` - –æ—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å –∑–∞—è–≤–∫–∏
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è
  - –û—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –¥–∞—Ç –Ω–∞—á–∞–ª–∞ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ö–ê–°–ö–û –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ C/E
  - –°–≤—è–∑—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º-—Å–æ–∑–¥–∞—Ç–µ–ª–µ–º
  - –ü–æ–ª—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –ø–∏—Å–µ–º
- `RequestAttachment` - –≤–ª–æ–∂–µ–Ω–∏—è –∫ –∑–∞—è–≤–∫–µ

#### –ì—Ä—É–ø–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã` - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º
- `–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏` - –¥–æ—Å—Ç—É–ø –∫ –æ—Å–Ω–æ–≤–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º —Ä–∞–±–æ—Ç—ã —Å –∑–∞—è–≤–∫–∞–º–∏

### –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è

1. **Python –∫–æ–¥**
   - –°–ª–µ–¥—É–π—Ç–µ PEP 8
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ type hints –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
   - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–ª–∞—Å—Å—ã
   - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏: 88 —Å–∏–º–≤–æ–ª–æ–≤

2. **Django –∫–æ–¥**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Django best practices
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ö –∏ –º–æ–¥–µ–ª—è—Ö
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Django ORM –≤–º–µ—Å—Ç–æ raw SQL
   - –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

3. **Frontend –∫–æ–¥**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Bootstrap –∫–ª–∞—Å—Å—ã
   - –ú–∏–Ω–∏–º—É–º –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ CSS
   - –ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ
   - –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (accessibility)

### –û—Ç–ª–∞–¥–∫–∞

1. **Django Debug Toolbar** (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
```bash
pip install django-debug-toolbar
# –î–æ–±–∞–≤—å—Ç–µ –≤ INSTALLED_APPS –∏ MIDDLEWARE
```

2. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
```python
import logging
logger = logging.getLogger(__name__)
logger.info("–°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏")
```

3. **Django shell –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏**
```bash
python manage.py shell
>>> from insurance_requests.models import InsuranceRequest
>>> InsuranceRequest.objects.all()
```

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

```bash
# –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x scripts/deploy.sh

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø—É—Ç–∏ –≤ —Å–∫—Ä–∏–ø—Ç–µ
nano scripts/deploy.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
./scripts/deploy.sh
```

### –†—É—á–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

#### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –û–±–Ω–æ–≤–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã
sudo apt install -y python3 python3-pip python3-venv git nginx postgresql postgresql-contrib

# –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
sudo useradd -m -s /bin/bash insurance
sudo usermod -aG www-data insurance
```

#### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
sudo -u postgres psql
CREATE DATABASE insurance_db;
CREATE USER insurance_user WITH PASSWORD 'secure_password';
GRANT ALL PRIVILEGES ON DATABASE insurance_db TO insurance_user;
ALTER USER insurance_user CREATEDB;
\q
```

#### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
sudo su - insurance

# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/your-repo/insurance-system.git
cd insurance-system

# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
pip install gunicorn psycopg2-binary

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
```

#### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
python manage.py migrate

# –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä—É–ø–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
python manage.py setup_user_groups

# –°–æ–∑–¥–∞–π—Ç–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
python manage.py createsuperuser

# –°–æ–±–µ—Ä–∏—Ç–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
python manage.py collectstatic --noinput
```

#### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Gunicorn

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `gunicorn.conf.py`:
```python
bind = "127.0.0.1:8000"
workers = 3
timeout = 30
keepalive = 2
max_requests = 1000
preload_app = True
```

#### 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ systemd

–°–æ–∑–¥–∞–π—Ç–µ `/etc/systemd/system/insurance-system.service`:
```ini
[Unit]
Description=Insurance System Gunicorn daemon
After=network.target

[Service]
User=insurance
Group=www-data
WorkingDirectory=/home/insurance/insurance-system
ExecStart=/home/insurance/insurance-system/venv/bin/gunicorn --config gunicorn.conf.py onlineservice.wsgi:application
ExecReload=/bin/kill -s HUP $MAINPID
Restart=on-failure

[Install]
WantedBy=multi-user.target
```

#### 7. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

–°–æ–∑–¥–∞–π—Ç–µ `/etc/nginx/sites-available/insurance-system`:
```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    
    location /static/ {
        alias /home/insurance/insurance-system/staticfiles/;
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
    
    location /media/ {
        alias /home/insurance/insurance-system/media/;
        expires 1y;
        add_header Cache-Control "public";
    }
    
    client_max_body_size 50M;
}
```

#### 8. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# –í–∫–ª—é—á–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã
sudo systemctl daemon-reload
sudo systemctl enable insurance-system
sudo systemctl start insurance-system

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Nginx
sudo ln -s /etc/nginx/sites-available/insurance-system /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
sudo systemctl status insurance-system
sudo systemctl status nginx
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

#### –õ–æ–≥–∏
```bash
# –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
sudo journalctl -u insurance-system -f

# –õ–æ–≥–∏ Nginx
sudo tail -f /var/log/nginx/access.log
sudo tail -f /var/log/nginx/error.log

# –õ–æ–≥–∏ Django (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã)
tail -f /var/log/django/insurance_system.log
```

#### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
cat > /home/insurance/backup.sh << 'EOF'
#!/bin/bash
BACKUP_DIR="/backups/insurance_system"
DATE=$(date +%Y%m%d_%H%M%S)

mkdir -p $BACKUP_DIR

# –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
cd /home/insurance/insurance-system
source venv/bin/activate
python manage.py dumpdata > $BACKUP_DIR/db_backup_$DATE.json

# –ë—ç–∫–∞–ø –º–µ–¥–∏–∞ —Ñ–∞–π–ª–æ–≤
tar -czf $BACKUP_DIR/media_backup_$DATE.tar.gz media/

# –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤ (—Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π)
find $BACKUP_DIR -name "*.json" -mtime +30 -delete
find $BACKUP_DIR -name "*.tar.gz" -mtime +30 -delete
EOF

chmod +x /home/insurance/backup.sh

# –î–æ–±–∞–≤—å—Ç–µ –≤ crontab (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 2:00)
echo "0 2 * * * /home/insurance/backup.sh" | crontab -
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
cat > /home/insurance/update.sh << 'EOF'
#!/bin/bash
cd /home/insurance/insurance-system

# –°–æ–∑–¥–∞–π—Ç–µ –±—ç–∫–∞–ø
/home/insurance/backup.sh

# –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥
git pull origin main

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate

# –û–±–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
python manage.py migrate

# –°–æ–±–µ—Ä–∏—Ç–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
python manage.py collectstatic --noinput

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å
sudo systemctl restart insurance-system
EOF

chmod +x /home/insurance/update.sh
```

### SSL/HTTPS –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ HTTPS –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Let's Encrypt:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Certbot
sudo apt install certbot python3-certbot-nginx

# –ü–æ–ª—É—á–∏—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
sudo certbot --nginx -d your-domain.com

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
sudo crontab -e
# –î–æ–±–∞–≤—å—Ç–µ: 0 12 * * * /usr/bin/certbot renew --quiet
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Django
python manage.py check

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –¥–µ–ø–ª–æ—é
python manage.py check --deploy

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π
python manage.py showmigrations

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
python manage.py dbshell
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û–±—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è**
```bash
sudo systemctl status insurance-system
sudo journalctl -u insurance-system -f
```

2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞**
```bash
python manage.py dbshell
python manage.py check --database default
```

3. **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è**
```bash
python manage.py collectstatic --clear --noinput
sudo chown -R insurance:www-data staticfiles/
```

4. **–ü—Ä–æ–±–ª–µ–º—ã —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π**
```bash
python manage.py setup_user_groups
python manage.py shell -c "from django.contrib.auth.models import Group; print([g.name for g in Group.objects.all()])"
```

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã
python manage.py check --deploy

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
python manage.py dbshell -c "\dt"

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–∞—è–≤–∫–∞–º
python manage.py shell -c "
from insurance_requests.models import InsuranceRequest
print(f'–í—Å–µ–≥–æ –∑–∞—è–≤–æ–∫: {InsuranceRequest.objects.count()}')
print(f'–° –Ω–æ–≤—ã–º —Ç–∏–ø–æ–º: {InsuranceRequest.objects.filter(insurance_type=\"—Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –∏–º—É—â–µ—Å—Ç–≤–∞\").count()}')
"
```

## –ó–∞–≥—Ä—É–∑–∫–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
python manage.py loaddata insurance_requests/fixtures/sample_data.json
```

### –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
python manage.py create_demo_data

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Django shell
python manage.py shell
>>> from insurance_requests.models import InsuranceRequest
>>> from django.contrib.auth.models import User
>>> user = User.objects.first()
>>> InsuranceRequest.objects.create(
...     client_name="–î–µ–º–æ –∫–ª–∏–µ–Ω—Ç",
...     inn="1234567890",
...     insurance_type="–ö–ê–°–ö–û",
...     created_by=user
... )
```

### –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ sample_data.json –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:

- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä**: 
  - –õ–æ–≥–∏–Ω: `admin`
  - –ü–∞—Ä–æ–ª—å: `admin123`
  - –ü—Ä–∞–≤–∞: –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º

- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: 
  - –õ–æ–≥–∏–Ω: `user`
  - –ü–∞—Ä–æ–ª—å: `user123`
  - –ü—Ä–∞–≤–∞: –¥–æ—Å—Ç—É–ø –∫ –æ—Å–Ω–æ–≤–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º

### –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏

–°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç 5 –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∑–∞—è–≤–æ–∫ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏:
1. –ó–∞—è–≤–∫–∞ —Å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–∏—Å—å–º–æ–º (–ö–ê–°–ö–û)
2. –ó–∞–≥—Ä—É–∂–µ–Ω–Ω–∞—è –∑–∞—è–≤–∫–∞ (—Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü—Ç–µ—Ö–Ω–∏–∫–∏)
3. –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –∑–∞—è–≤–∫–∞ (–ö–ê–°–ö–û —Å C/E)
4. –ó–∞–≤–µ—Ä—à–µ–Ω–Ω–∞—è –∑–∞—è–≤–∫–∞ (—Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –∏–º—É—â–µ—Å—Ç–≤–∞)
5. –ó–∞—è–≤–∫–∞ —Å –æ—à–∏–±–∫–æ–π (–ö–ê–°–ö–û —Å C/E)

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

- **[DEPLOYMENT_GUIDE.md](DEPLOYMENT_GUIDE.md)** - –ö—Ä–∞—Ç–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- **[docs/DEPLOYMENT_GUIDE_COMPLETE.md](docs/DEPLOYMENT_GUIDE_COMPLETE.md)** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- **[docs/FAVICON_DEPLOYMENT_GUIDE.md](docs/FAVICON_DEPLOYMENT_GUIDE.md)** - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ favicon

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[docs/USER_MANUAL.md](docs/USER_MANUAL.md)** - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ([HTML](docs/USER_MANUAL.html) | [PDF](docs/USER_MANUAL.pdf))
- **[docs/AUTHENTICATION_SYSTEM.md](docs/AUTHENTICATION_SYSTEM.md)** - –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **[docs/DEPLOYMENT_CHECKLIST.md](docs/DEPLOYMENT_CHECKLIST.md)** - –ß–µ–∫-–ª–∏—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- **[EXCEL_PROCESSING.md](EXCEL_PROCESSING.md)** - –û–±—Ä–∞–±–æ—Ç–∫–∞ Excel —Ñ–∞–π–ª–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

```
docs/
‚îú‚îÄ‚îÄ USER_MANUAL.md                  # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (Markdown)
‚îú‚îÄ‚îÄ USER_MANUAL.html                # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (HTML)
‚îú‚îÄ‚îÄ USER_MANUAL.pdf                 # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (PDF)
‚îú‚îÄ‚îÄ DEPLOYMENT_GUIDE_COMPLETE.md    # –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
‚îú‚îÄ‚îÄ FAVICON_DEPLOYMENT_GUIDE.md     # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ favicon
‚îú‚îÄ‚îÄ AUTHENTICATION_SYSTEM.md        # –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ DEPLOYMENT_CHECKLIST.md         # –ß–µ–∫-–ª–∏—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ DEPLOYMENT_INSTRUCTIONS.md      # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
‚îî‚îÄ‚îÄ README_DEPLOYMENT.md            # README –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
```

## –ê–≤—Ç–æ—Ä

**–ì—Ä–∏–≥–æ—Ä–∏–π –ì—Ä–∞—á–µ–≤**  
–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞—Ö–æ–≤—ã–º–∏ –∑–∞—è–≤–∫–∞–º–∏ / 2025

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.